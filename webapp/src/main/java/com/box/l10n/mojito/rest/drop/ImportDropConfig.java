package com.box.l10n.mojito.rest.drop;

import com.box.l10n.mojito.entity.PollableTask;
import com.box.l10n.mojito.entity.TMTextUnitVariant;
import com.box.l10n.mojito.service.drop.DropService;
import com.fasterxml.jackson.annotation.JsonIgnore;
import com.fasterxml.jackson.annotation.JsonIgnoreProperties;
import com.fasterxml.jackson.annotation.JsonProperty;

/**
 * Configuration to trigger the import drop process, see {@link
 * DropService#startDropImportProcess(Long, PollableTask)}
 *
 * @author aloison
 */
@JsonIgnoreProperties(ignoreUnknown = true)
public class ImportDropConfig {

  @JsonProperty(required = true)
  Long repositoryId;

  @JsonProperty(required = true)
  Long dropId;

  TMTextUnitVariant.Status status;

  PollableTask pollableTask;

  public Long getRepositoryId() {
    return repositoryId;
  }

  public void setRepositoryId(Long repositoryId) {
    this.repositoryId = repositoryId;
  }

  public Long getDropId() {
    return dropId;
  }

  public void setDropId(Long dropId) {
    this.dropId = dropId;
  }

  public TMTextUnitVariant.Status getStatus() {
    return status;
  }

  public void setStatus(TMTextUnitVariant.Status status) {
    this.status = status;
  }

  @JsonProperty
  public PollableTask getPollableTask() {
    return pollableTask;
  }

  /**
   * @JsonIgnore because this pollableTask is read only data generated by the server side, it is not
   * aimed to by external process via WS
   *
   * @param pollableTask
   */
  @JsonIgnore
  public void setPollableTask(PollableTask pollableTask) {
    this.pollableTask = pollableTask;
  }
}
